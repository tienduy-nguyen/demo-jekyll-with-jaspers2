<!DOCTYPE html>
<html>

<head>

  <!-- Document Settings -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  <!-- Base Meta -->
  <!-- dynamically fixing the title for tag/author pages -->



  <title>Create simple web app Nodejs with Docker</title>
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Styles'n'Scripts -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">
  <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
  <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
  <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />


  <style>
    .hljs {
      background: none;
    }
  </style>


  <!-- This tag outputs SEO meta+structured data and other important settings -->
  <meta name="description"
  content="Learning is an endless journey" />
<link rel="shortcut icon" href="https://blog.adev42.com//assets/images/favicon.png" type="image/png" />
<link rel="canonical"
  href="/create-simple-project-nodejs-with-docker" />
<meta name="referrer" content="no-referrer-when-downgrade" />


<!--title below is coming from _includes/dynamic_title-->
<meta property="og:site_name" content="Adev42" />
<meta property="og:type" content="website" />
<meta property="og:title"
  content="Create simple web app Nodejs with Docker" />
<meta property="og:description"
  content="How to get a Node.js application into a Docker container? Steps to create a web application Nodejs with Docker Create NodeJS web app Create a Dockerfile Build image from Dockerfile Run image as container Connect to web app from a browser Getting started Create root folder of project $ mkdir" />
<meta property="og:url"
  content="/create-simple-project-nodejs-with-docker" />
<meta property="og:image"
  content="/assets/images/post-covers/docker-node.png" />
<meta property="article:publisher" content="https://www.facebook.com/" />
<meta property="article:author" content="https://www.facebook.com/" />
<meta property="article:published_time"
  content="2020-11-22T01:00:00+01:00" />
<meta property="article:modified_time"
  content="2020-11-22T01:00:00+01:00" />

<meta property="article:tag" content="Docker" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title"
  content="Create simple web app Nodejs with Docker" />
<meta name="twitter:description"
  content="How to get a Node.js application into a Docker container? Steps to create a web application Nodejs with Docker Create NodeJS web app Create a Dockerfile Build image from Dockerfile Run image as container Connect to web app from a browser Getting started Create root folder of project $ mkdir" />
<meta name="twitter:url" content="/" />
<meta name="twitter:image"
  content="/assets/images/post-covers/docker-node.png" />
<meta name="twitter:label1" content="Written by" />
<meta name="twitter:data1" content="Adev42" />
<meta name="twitter:label2" content="Filed under" />
<meta name="twitter:data2" content="Docker" />
<meta name="twitter:site" content="@tienduy_nguyen" />
<meta name="twitter:creator" content="@tienduy_nguyen" />
<meta property="og:image:width" content="1400" />
<meta property="og:image:height" content="933" />

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
      "@type": "Organization",
      "name": "Adev42",
      "logo": "/assets/images/blog-icon-200.png"
    },
    "url": "/create-simple-project-nodejs-with-docker",
    "image": {
      "@type": "ImageObject",
      "url": "/assets/images/post-covers/docker-node.png",
      "width": 2000,
      "height": 666
    },
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "/create-simple-project-nodejs-with-docker"
    },
    "description": "How to get a Node.js application into a Docker container? Steps to create a web application Nodejs with Docker Create NodeJS web app Create a Dockerfile Build image from Dockerfile Run image as container Connect to web app from a browser Getting started Create root folder of project $ mkdir"
  }
</script>

<meta name="generator" content="Jekyll 3.6.2" />
<link rel="alternate" type="application/rss+xml"
  title="Create simple web app Nodejs with Docker" href="/feed.xml" />

</head>

<body
  class="post-template">
  <div class="site-wrapper">
    <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
    <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
  <div class="inner">
    <nav class="site-nav">
  <div class="site-nav-left">
    
    
    <a class="site-nav-logo" href="/"><img src="/assets/images/blog-icon-200.png"
        alt="Adev42" /></a>
    
    
    
    <ul class="nav" role="menu">
  <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
  <li class="nav-getting-started" role="menuitem"><a href="/tag/me/">Me</a>
  </li>
  <li class="nav-getting-started" role="menuitem"><a href="/tag/web-development/">Web Development</a>
  </li>
  <li class="nav-getting-started" role="menuitem"><a href="/tag/algorithms/">Algorithms</a>
  </li>
  <li class="nav-getting-started" role="menuitem"><a href="/tag/docker/">Docker</a>
  </li>
  <li class="nav-about" role="menuitem"><a href="/about/">Contact</a></li>
</ul>
    
  </div>
  <div class="site-nav-right">
    <div class="social-links">
      
      
      <a class="social-link social-link-tw" href="https://twitter.com/tienduy_nguyen" target="_blank"
        rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
      
      
      <a class="social-link social-link-lkin" href="https://linkedin.com/in/tienduy-nguyen" target="_blank"
        rel="noopener"><svg fill="#000000" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="16px" height="16px">
  <path
    d="M 21.800781 0 L 2.199219 0 C 1 0 0 1 0 2.199219 L 0 21.800781 C 0 23 1 24 2.199219 24 L 21.800781 24 C 23 24 24 23 24 21.800781 L 24 2.199219 C 24 1 23 0 21.800781 0 Z M 7 20 L 3 20 L 3 9 L 7 9 Z M 5 7.699219 C 3.800781 7.699219 3 6.898438 3 5.898438 C 3 4.800781 3.800781 4 5 4 C 6.199219 4 7 4.800781 7 5.800781 C 7 6.898438 6.199219 7.699219 5 7.699219 Z M 21 20 L 17 20 L 17 14 C 17 12.398438 15.898438 12 15.601563 12 C 15.300781 12 14 12.199219 14 14 C 14 14.199219 14 20 14 20 L 10 20 L 10 9 L 14 9 L 14 10.601563 C 14.601563 9.699219 15.601563 9 17.5 9 C 19.398438 9 21 10.5 21 14 Z" />
</svg></a>
      
    </div>
    
    <a class="subscribe-button" href="#subscribe">Subscribe</a>
    
  </div>
</nav>
  </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
  <div class="inner">

    <article
      class="post-full  tag-docker post ">

      <header class="post-full-header">
        <section class="post-full-meta">
          <time class="post-full-meta-date"
            datetime="22 November 2020">22 November 2020</time>
          
          <span class="date-divider">/</span>
          
          
          <a href='/tag/docker/'>DOCKER</a>
          
          
          
        </section>
        <h1 class="post-full-title">Create simple web app Nodejs with Docker</h1>
      </header>

      
      <figure class="post-full-image" style="background-image: url(/assets/images/post-covers/docker-node.png)">
      </figure>
      




      <section class="post-full-content-wrapper">
        <section class="page__content" itemprop="text">
          
          <aside class="sidebar__right ">
            <nav class="toc">
              <header>
                <h4 class="nav__title"><i class="fas fa-file-alt"></i>
                  Menu
                </h4>
              </header>
              <ul>
  <li><a href="#steps-to-create-a-web-application-nodejs-with-docker">Steps to create a web application Nodejs with Docker</a></li>
  <li><a href="#getting-started">Getting started</a>
    <ul>
      <li><a href="#create-root-folder-of-project">Create root folder of project</a></li>
      <li><a href="#init-packagejson">Init package.json</a></li>
      <li><a href="#create-indexjs-file-in-root-project">Create index.js file (in root project)</a></li>
      <li><a href="#create-dockerfile">Create Dockerfile</a></li>
      <li><a href="#create-dockerignore-file-with-the-following-content">Create .dockerignore file with the following content:</a></li>
      <li><a href="#build-your-image">Build your image</a></li>
      <li><a href="#run-the-image">Run the image</a></li>
      <li><a href="#test-your-docker-container">Test your Docker container</a></li>
    </ul>
  </li>
  <li><a href="#some-useful-other-commands">Some useful other commands</a></li>
  <li><a href="#reference">Reference</a></li>
</ul>
<style type="text/css">
  div#table-of-content {
    margin: 2em 0 !important;
    padding: 1em;
    color: #494e52;
    font-size: .75em !important;
    text-indent: initial;
    background-color: #ecf6ec;
    border-radius: 4px;
    box-shadow: 0 1px 1px rgba(63, 166, 63, 0.25);
  }
</style>
            </nav>
          </aside>
          
        </section>

        <div class="post-full-content">
          <div class="kg-card-markdown">
            <p>How to get a Node.js application into a Docker container?</p>

<hr />

<h2 id="steps-to-create-a-web-application-nodejs-with-docker">Steps to create a web application Nodejs with Docker</h2>
<ul>
  <li>Create NodeJS web app</li>
  <li>Create a Dockerfile</li>
  <li>Build image from Dockerfile</li>
  <li>Run image as container</li>
  <li>Connect to web app from a browser</li>
</ul>

<h2 id="getting-started">Getting started</h2>

<h3 id="create-root-folder-of-project">Create root folder of project</h3>

<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="n">mkdir</span><span class="w"> </span><span class="n">simple</span><span class="o">-</span><span class="n">nodejs</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">cd</span><span class="w"> </span><span class="n">simple</span><span class="o">-</span><span class="n">nodejs</span><span class="w">
</span></code></pre></div></div>
<h3 id="init-packagejson">Init <code class="language-plaintext highlighter-rouge">package.json</code></h3>
<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="n">yarn</span><span class="w"> </span><span class="n">init</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w">
</span></code></pre></div></div>

<p>Add dependencies and scripts in this <strong>package.json</strong> file</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"simple-nodejs"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0.0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"main"</span><span class="p">:</span><span class="w"> </span><span class="s2">"index.js"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"license"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MIT"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"scripts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"node index.js"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dev"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nodemon index.js"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"dependencies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"express"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"nodemon"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"dotenv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mongoose"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"axios"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<h3 id="create-indexjs-file-in-root-project">Create <code class="language-plaintext highlighter-rouge">index.js</code> file (in root project)</h3>
<p>Add the following code to run server nodejs with <code class="language-plaintext highlighter-rouge">express</code> framework.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

  <span class="nx">app</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hi there!</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">PORT</span> <span class="o">||</span> <span class="mi">3000</span><span class="p">;</span>

  <span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Server is running on port </span><span class="p">${</span><span class="nx">port</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
  <span class="p">});</span>

</code></pre></div></div>
<h3 id="create-dockerfile">Create <code class="language-plaintext highlighter-rouge">Dockerfile</code></h3>
<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="n">touch</span><span class="w"> </span><span class="n">Dockerfile</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li>
    <p>The first thing we need to do is define from what image we want to build from. Here is the version 12.18.1 of Nodejs from <a href="https://hub.docker.com/">DockerHub</a></p>

    <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">FROM node:12.18.1</span>
</code></pre></div>    </div>
  </li>
  <li>Next we create a directory to hold the application code inside the image. This will be the working directory for your application.
    <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create app directory</span>
<span class="s">WORKDIR /app</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>This image comes with Node.js and NPM already installed so the next thing we need to do is to install your app dependencies using the npm binary. Please note that if you are using npm version 4 or earlier a package-lock.json file will not be generated.</p>

    <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Install app dependencies</span>
<span class="c1"># A wildcard is used to ensure both package.json AND package-lock.json are copied</span>
<span class="c1"># where available (npm@5+)</span>
<span class="s">COPY package*.json ./</span>

<span class="s">RUN npm install</span>
<span class="c1"># If you are building your code for production</span>
<span class="c1"># RUN npm ci --only=production</span>
</code></pre></div>    </div>
  </li>
  <li>To bundle your app’s source code inside the Docker image, use the COPY instruction:
    <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Bundle app source</span>
<span class="s">COPY . .</span>
</code></pre></div>    </div>
  </li>
  <li>Your app binds to port <code class="language-plaintext highlighter-rouge">8080</code> so you’ll use the <code class="language-plaintext highlighter-rouge">EXPOSE</code> instruction to have it mapped by the docker daemon:
    <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">EXPOSE </span><span class="m">8080</span>
</code></pre></div>    </div>
  </li>
  <li>Last but not least, define the command to run your app using CMD which defines your runtime. Here we will use <code class="language-plaintext highlighter-rouge">node index.js</code> to start your server as write in scripts of <code class="language-plaintext highlighter-rouge">package.json</code> file.
    <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">CMD ["yarn", "dev"]</span>
</code></pre></div>    </div>
  </li>
  <li>Your <code class="language-plaintext highlighter-rouge">Dockerfile</code> should now look like this:
    <div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="c1"># Specify a base image</span>
  <span class="s">FROM node:12.18.1</span>

  <span class="s"># Create app directory</span>
  <span class="s">WORKDIR /app</span>

  <span class="s"># Install app dependencies</span>
  <span class="s"># A wildcard is used to ensure both package.json AND package-lock.json are copied</span>
  <span class="s"># where available (npm@5+)</span>
  <span class="s">COPY package*.json ./</span>

  <span class="s"># Install dependencies</span>
  <span class="s">RUN yarn install</span>
  <span class="s"># If you are building your code for production</span>
  <span class="s"># RUN npm ci --only=production</span>

  <span class="s"># Bundle app source</span>
  <span class="s">COPY . .</span>

  <span class="s">EXPOSE </span><span class="m">8080</span>

  <span class="c1"># Default command</span>
  <span class="s">CMD [ "yarn", "dev" ]</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="create-dockerignore-file-with-the-following-content">Create <code class="language-plaintext highlighter-rouge">.dockerignore</code> file with the following content:</h3>
<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="s">node_modules</span>
  <span class="s">npm-debug.log</span>
</code></pre></div></div>
<h3 id="build-your-image">Build your image</h3>
<p>Go to the directory that has your <code class="language-plaintext highlighter-rouge">Dockerfile</code> and run the following command to build the Docker image. The <code class="language-plaintext highlighter-rouge">-t</code> flag lets you tag your image so it’s easier to find later using the <code class="language-plaintext highlighter-rouge">docker images</code> command:</p>

<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w"> </span><span class="o">&lt;</span><span class="n">your</span><span class="w"> </span><span class="n">username</span><span class="o">&gt;/</span><span class="n">node</span><span class="o">-</span><span class="n">docker</span><span class="w"> </span><span class="n">.</span><span class="w">
</span></code></pre></div></div>
<p>Your image will now be listed by Docker:</p>
<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">images</span><span class="w">

  </span><span class="c1"># Example</span><span class="w">
  </span><span class="n">REPOSITORY</span><span class="w">                      </span><span class="n">TAG</span><span class="w">        </span><span class="n">ID</span><span class="w">              </span><span class="n">CREATED</span><span class="w">
  </span><span class="n">node</span><span class="w">                            </span><span class="m">12</span><span class="w">         </span><span class="m">1934</span><span class="n">b0b038d1</span><span class="w">    </span><span class="m">5</span><span class="w"> </span><span class="n">days</span><span class="w"> </span><span class="n">ago</span><span class="w">
  </span><span class="o">&lt;</span><span class="n">your</span><span class="w"> </span><span class="n">username</span><span class="o">&gt;/</span><span class="n">node</span><span class="o">-</span><span class="n">web</span><span class="o">-</span><span class="n">app</span><span class="w">    </span><span class="n">latest</span><span class="w">     </span><span class="n">d64d3505b0d2</span><span class="w">    </span><span class="m">1</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">ago</span><span class="w">
</span></code></pre></div></div>

<h3 id="run-the-image">Run the image</h3>
<p>Running your image with <code class="language-plaintext highlighter-rouge">-d</code> runs the container in detached mode, leaving the container running in the background. The <code class="language-plaintext highlighter-rouge">-p</code> flag redirects a public port to a private port inside the container. Run the image you previously built:</p>

<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="m">49160</span><span class="o">:</span><span class="m">8080</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="o">&lt;</span><span class="n">your</span><span class="w"> </span><span class="n">username</span><span class="o">&gt;/</span><span class="n">node</span><span class="o">-</span><span class="n">docker</span><span class="w">
</span></code></pre></div></div>

<p>Print the output of your app:</p>
<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="c1"># Get container ID</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">ps</span><span class="w">

  </span><span class="c1"># Print app output</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="o">&lt;</span><span class="n">container</span><span class="w"> </span><span class="n">id</span><span class="o">&gt;</span><span class="w">

  </span><span class="c1"># Example</span><span class="w">
  </span><span class="n">Running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">http</span><span class="o">://</span><span class="n">localhost</span><span class="o">:</span><span class="m">8080</span><span class="w">
</span></code></pre></div></div>

<p>If you need to go inside the container you can use the exec command:</p>

<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="c1"># Enter the container</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">exec</span><span class="w"> </span><span class="o">-</span><span class="n">it</span><span class="w"> </span><span class="o">&lt;</span><span class="n">container</span><span class="w"> </span><span class="n">id</span><span class="o">&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span><span class="w">
</span></code></pre></div></div>
<h3 id="test-your-docker-container">Test your Docker container</h3>
<p>To test your app, get the port of your app that Docker mapped:</p>
<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">ps</span><span class="w">

  </span><span class="c1"># Example</span><span class="w">
  </span><span class="n">ID</span><span class="w">            </span><span class="n">IMAGE</span><span class="w">                                </span><span class="n">COMMAND</span><span class="w">    </span><span class="n">...</span><span class="w">   </span><span class="n">PORTS</span><span class="w">
  </span><span class="n">ecce33b30ebf</span><span class="w">  </span><span class="o">&lt;</span><span class="n">your</span><span class="w"> </span><span class="n">username</span><span class="o">&gt;/</span><span class="n">node</span><span class="o">-</span><span class="n">docker</span><span class="o">:</span><span class="n">latest</span><span class="w">  </span><span class="n">npm</span><span class="w"> </span><span class="n">start</span><span class="w">  </span><span class="n">...</span><span class="w">   </span><span class="m">49160</span><span class="o">-&gt;</span><span class="m">8080</span><span class="w">
</span></code></pre></div></div>

<p>In the example above, Docker mapped the 8080 port inside of the container to the port 49160 on your machine.</p>

<p>Now you can call your app using curl (install if needed via: sudo apt-get install curl):</p>

<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="n">curl</span><span class="w"> </span><span class="o">-</span><span class="n">i</span><span class="w"> </span><span class="n">localhost</span><span class="o">:</span><span class="m">49160</span><span class="w">

  </span><span class="n">HTTP</span><span class="o">/</span><span class="m">1.1</span><span class="w"> </span><span class="m">200</span><span class="w"> </span><span class="n">OK</span><span class="w">
  </span><span class="n">X</span><span class="o">-</span><span class="n">Powered</span><span class="o">-</span><span class="n">By</span><span class="o">:</span><span class="w"> </span><span class="n">Express</span><span class="w">
  </span><span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="o">:</span><span class="w"> </span><span class="n">text</span><span class="o">/</span><span class="n">html</span><span class="p">;</span><span class="w"> </span><span class="n">charset</span><span class="o">=</span><span class="n">utf</span><span class="m">-8</span><span class="w">
  </span><span class="n">Content</span><span class="o">-</span><span class="n">Length</span><span class="o">:</span><span class="w"> </span><span class="m">9</span><span class="w">
  </span><span class="n">ETag</span><span class="o">:</span><span class="w"> </span><span class="n">W</span><span class="o">/</span><span class="s2">"9-leKwfhJ1TlLDfP1IVUTU9ERZe/8"</span><span class="w">
  </span><span class="n">Date</span><span class="o">:</span><span class="w"> </span><span class="n">Mon</span><span class="p">,</span><span class="w"> </span><span class="m">23</span><span class="w"> </span><span class="n">Nov</span><span class="w"> </span><span class="m">2020</span><span class="w"> </span><span class="m">14</span><span class="o">:</span><span class="m">41</span><span class="o">:</span><span class="m">00</span><span class="w"> </span><span class="n">GMT</span><span class="w">
  </span><span class="n">Connection</span><span class="o">:</span><span class="w"> </span><span class="n">keep</span><span class="o">-</span><span class="n">alive</span><span class="w">

  </span><span class="n">Hi</span><span class="w"> </span><span class="n">there</span><span class="o">!</span><span class="w">
</span></code></pre></div></div>

<h2 id="some-useful-other-commands">Some useful other commands</h2>
<div class="language-s highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="c1">#show all images installed</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">rmi</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="o">&lt;</span><span class="n">image</span><span class="w"> </span><span class="n">id</span><span class="o">&gt;</span><span class="w"> </span><span class="c1">#remove image by id</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">ps</span><span class="w"> </span><span class="c1">#list all containers running</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">ps</span><span class="w"> </span><span class="o">-</span><span class="n">aq</span><span class="w"> </span><span class="c1">#list all containers (only ids)</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">stop</span><span class="w"> </span><span class="o">&lt;</span><span class="n">container</span><span class="w"> </span><span class="n">id</span><span class="o">&gt;</span><span class="w"> </span><span class="c1">#stop a container</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">stop</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">docker</span><span class="w"> </span><span class="n">ps</span><span class="w"> </span><span class="o">-</span><span class="n">aq</span><span class="p">)</span><span class="w"> </span><span class="c1">#stop all running container</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">docker</span><span class="w"> </span><span class="n">ps</span><span class="w"> </span><span class="o">-</span><span class="n">aq</span><span class="p">)</span><span class="w"> </span><span class="c1">#remove all containers</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">rmi</span><span class="w"> </span><span class="o">$</span><span class="p">(</span><span class="n">docker</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="o">-</span><span class="n">q</span><span class="p">)</span><span class="w"> </span><span class="c1">#remove all images</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">prune</span><span class="w"> </span><span class="c1">#remove all stopped containers, all dangling images, all networks, all dangling build cache</span><span class="w">
  </span><span class="o">$</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">prune</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="c1"># remove all stopped container, all images, all networks, all build caches</span><span class="w">

</span></code></pre></div></div>

<h2 id="reference">Reference</h2>
<ul>
  <li><a href="https://github.com/tienduy-nguyen/try-docker/tree/master/01.dive-into-docker/simple-nodejs">Code GitHub example</a></li>
  <li><a href="https://hub.docker.com/_/node/">Official Nodejs Docker image</a></li>
  <li><a href="https://github.com/nodejs/docker-node/blob/master/docs/BestPractices.md">Nodejs Docker best practice guide</a></li>
  <li><a href="https://docs.docker.com/">Official Docker documentation</a></li>
  <li><a href="https://nodejs.org/en/docs/guides/nodejs-docker-webapp/">Doc guides NodeJS-Docker</a></li>
  <li><a href="https://docs.docker.com/get-started/nodejs/build-images/">Doc guides Docker-NodeJS</a></li>
</ul>

          </div>

        </div>
      </section>

      <!-- Email subscribe form at the bottom of the page -->
      
      <section class="subscribe-form">
        <h3 class="subscribe-form-title">Subscribe to Adev42</h3>
        <p>Get the latest posts delivered right to your inbox</p>
        <form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"
  onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=Adev42', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">

  <div class="form-group">
    <input class="subscribe-email" type="email" name="email" placeholder="youremail@example.com" />
  </div>

  <input type="hidden" value="Adev42" name="uri" />

  <input type="hidden" name="loc" value="en_US" />


  <button class="" type="submit" ><span>Subscribe</span></button>

</form>
      </section>
      

      <footer class="post-full-footer">
        <!-- Everything inside the #author tags pulls data from the author -->
        <!-- #author-->
        
        
        <section class="author-card">
          
          <img class="author-profile-image" src="/assets/images/blog-icon-200.png" alt="tienduy"
            loading="lazy" />
          
          <section class="author-card-content">
            <h4 class="author-card-name"><a href="/author/tienduy">TienDuy</a>
            </h4>
            
            <p>Tien Duy is a full-stack web developer. He loves coding, solving problems and learning from others.</p>
            
          </section>
        </section>
        <div class="post-full-footer-right">
          <a class="author-card-button" href="/author/tienduy">Read More</a>
        </div>
        
        
        <!-- /author  -->
      </footer>

      <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
      

      <!-- If you use Gitalk comments, just uncomment this block. -->
      
      <section class="post-full-comments">
        <!-- _includes/gitalk-comment.html -->

<div id="gitalk-container"></div>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
  const gitalk = new Gitalk({
    clientID: '47d9028ad954579e29a1',
    clientSecret: "0fc3a929bc1c7d9db3678dd52952f1342c01cf2c",
    repo: "tienduy-nguyen",
    owner: "tienduy-nguyen",
    admin: ["tienduy-nguyen"],
    id: "/create-simple-project-nodejs-with-docker", // Ensure uniqueness and length less than 50 
    distractionFreeMode: false, // Facebook-like distraction free mode
    perPage: 100
  });

  gitalk.render('gitalk-container')
</script>


      </section>
      

    </article>

  </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
  <div class="inner">
    <div class="read-next-feed">
      
      
      
      
      
      <article class="read-next-card" 
        style="background-image: url(/assets/images/blog-cover3.jpeg)" >
        <header class="read-next-card-header">
          <small class="read-next-card-header-sitetitle">&mdash; Adev42 &mdash;</small>
          
          <h3 class="read-next-card-header-title"><a
              href="/tag/docker/">Docker</a></h3>
          
        </header>
        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
        <div class="read-next-card-content">
          <ul>
            
            
            
            
            
            
            <li><a href="/why-use-dockercompose">Why use Docker compose</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
          </ul>
        </div>
        <footer class="read-next-card-footer">
          <a href="/tag/docker/">
            
            See all 1 posts →
            
          </a>
        </footer>
      </article>
      
      

      <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
      
      

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/why-use-dockercompose">
                <div class="post-card-image" style="background-image: url(/assets/images/post-covers/docker-compose.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/why-use-dockercompose">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Docker</span>
                            
                        
                    

                    <h2 class="post-card-title">Why use Docker compose</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/blog-icon-200.png" alt="TienDuy" />
                        
                        <span class="post-card-author">
                            <a href="/author/tienduy/">TienDuy</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

      

      <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
      
      

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/config-esling-prettier-react-app">
                <div class="post-card-image" style="background-image: url(/assets/images/post-covers/eslint-prettier.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/config-esling-prettier-react-app">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Web development</span>
                            
                        
                    

                    <h2 class="post-card-title">Config ESLint, Prettier for React App in VSCode</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p></p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/blog-icon-200.png" alt="TienDuy" />
                        
                        <span class="post-card-author">
                            <a href="/author/tienduy/">TienDuy</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

      

    </div>
  </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="/">
            
                <img src="/assets/images/favicon.png" alt="Adev42 icon" />
            
            <span>Adev42</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Create simple web app Nodejs with Docker</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Create+simple+web+app+Nodejs+with+Docker&amp;url=https://blog.adev42.com/create-simple-project-nodejs-with-docker"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://blog.adev42.com/create-simple-project-nodejs-with-docker"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->

    <!-- Previous/next page links - displayed on every page -->
    

    <!-- The footer at the very bottom of the screen -->
    <footer class="site-footer outer">
      <div class="site-footer-content inner">
        <section class="copyright"><a href="/">Adev42</a> &copy;
          2020</section>
        <section class="poweredby">Powered by <a href="https://jekyllrb.com/">Jekyll</a></section>
        <nav class="site-footer-nav">
          <a href="/">Latest Posts</a>
          
          <a href="https://twitter.com/tienduy_nguyen" target="_blank"
            rel="noopener">Twitter</a>
          <a href="https://linkedin.com/in/tienduy-nguyen" target="_blank"
            rel="noopener">Linkedin</a>
        </nav>
      </div>
    </footer>

  </div>

  <!-- The big email subscribe modal content -->
  
  <div id="subscribe" class="subscribe-overlay">
    <a class="subscribe-overlay-close" href="#"></a>
    <div class="subscribe-overlay-content">
      
      <img class="subscribe-overlay-logo" src="/assets/images/blog-icon-200.png" alt="Adev42" />
      
      <h1 class="subscribe-overlay-title">Subscribe to Adev42</h1>
      <p class="subscribe-overlay-description">Stay up to date! Get all the latest &amp; greatest posts delivered
        straight to your inbox</p>
      <form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow"
  onsubmit="window.open('https://feedburner.google.com/fb/a/mailverify?uri=Adev42', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true">

  <div class="form-group">
    <input class="subscribe-email" type="email" name="email" placeholder="youremail@example.com" />
  </div>

  <input type="hidden" value="Adev42" name="uri" />

  <input type="hidden" name="loc" value="en_US" />


  <button class="" type="submit" ><span>Subscribe</span></button>

</form>
    </div>
  </div>
  


  <!-- jQuery + Fitvids, which makes all video embeds responsive -->
  <script src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
  </script>
  <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>

  


  <!-- Add Google Analytics  -->
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-184748174-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'UA-184748174-1');
</script>

  <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
  
  <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

  


</body>

</html>